@model LocationViewModel;
@{
    ViewData["Title"] = ViewBag.Title ?? "Edit Sala";
    Layout = "_LayoutClienti";
}

<section id="editSala">
    <form asp-action="SalaSave" method="post" id="formEditSala">
        <input type="hidden" asp-for="Id" />
        <div class="row">
            <div class="col s8 offset-s2 center-align">
                @if (Model.Id.HasValue && (Model.Id.Value > 0))
                {
                    <h6>Modifica Sala</h6>
                }
                else
                {
                    <h6>Inserimento nuova Sala</h6>
                }
            </div>
        </div>
        <div class="row">
            <div class="input-field col s8 offset-s2">
                <input type="text" asp-for="Nome" data-length="500" id="inputNome"/>
                <label>Nome della Sala</label>
                <span asp-validation-for="Nome"></span>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s8 offset-s2">
                <textarea type="text" asp-for="Descrizione"  class="materialize-textarea" data-length="500" id="textAreaDescrizione"></textarea>
                <label asp-for="Descrizione"></label>
                <span asp-validation-for="Descrizione"></span>
            </div>
        </div>
        @*<div class="row">
                <div class="input-field col s10 offset-s1">
                    <input type="text" asp-for="CapienzaMax" />
                    <label asp-for="CapienzaMax"></label>
                    <span asp-validation-for="CapienzaMax"></span>
                </div>
            </div>*@
        <div class="row">
            <div class="input-field col s10 offset-s1 center">
                <button class="btn waves-effect waves-light" type="submit" name="action">
                    Salva Modifiche
                    <i class="material-icons left">save</i>
                </button>
            </div>
        </div>
    </form>
</section>

@section Scripts
    {
    <script>
        $(document).ready(function () {
            $('input#inputNome, textarea#textAreaDescrizione').characterCounter();
            /*Disabilitiamo il pulsante Submit dopo il click (per evitare submit multipli)*/
            $('#formEditSala').one('submit', function () {
                $(this).find('input[type="submit"]').attr('disabled', 'disabled');
            });
        });
    </script>
}
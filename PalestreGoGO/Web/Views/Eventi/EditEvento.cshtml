@model ScheduleViewModel;
@{
    Layout = "_LayoutClienti";
}
<head>
    @section Header{
        <style type="text/css">
            #formEditProfile .input-field {
                margin-top: 0px;
            }

            .input-field {
                margin-top: 0.2rem;
                margin-bottom: 0;
            }
        </style>
    }
</head>

<form asp-action='@(Model.Id.HasValue ? Html.Raw("edit") : Html.Raw("new"))' asp-route-id="@Model.Id" method="post">
    <input id="idEvento" type="hidden" asp-for="@Model.Id" />
    <div class="row">
        <div class="col s10 offset-s1">
            <ul class="collapsible expandable">
                <li class="active">
                    <div class="collapsible-header">
                        <i class="material-icons">schedule</i>
                        Informazioni Base
                        <div style="justify-content: flex-end">
                            <i class="material-icons">expand_less</i>
                        </div>
                    </div>
                    <div class="collapsible-body">
                        <div class="row">
                            <div class="col s12 m8 offset-m1">
                                <div class="input-field">
                                    <input type="text" asp-for="@Model.Title" />
                                    <label asp-for="Title"></label>
                                    <span asp-validation-for="Title"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m8 offset-m1 ">
                                <select asp-for="IdLocation" asp-items="ViewBag.Locations" class=""></select>
                                <label asp-for="IdLocation"></label>
                                <span asp-validation-for="IdLocation"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m8 offset-m1 ">
                                <select asp-for="IdTipoLezione" asp-items="ViewBag.TipologieLezioni" class=""></select>
                                <label asp-for="IdTipoLezione"></label>
                                <span asp-validation-for="IdTipoLezione"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m5 offset-m1 l4 offset-l1">
                                <input id="dataEvento" type="text" asp-for="Data" class="datepicker" autocomplete="off" />
                                <label asp-for="Data"></label>
                                <span asp-validation-for="Data"></span>
                            </div>
                            <div class="input-field col s12 m3 l3 offset-l1">
                                <input id="oraEvento" type="text" asp-for="OraInizio" class="timepicker" autocomplete="off" />
                                <label>Ora</label>
                                <span asp-validation-for="OraInizio"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s5 m4 offset-m1 l3 offset-l1">
                                <input type="text" asp-for="PostiDisponibili" />
                                <label>Posti</label>
                                <span asp-validation-for="PostiDisponibili"></span>
                            </div>
                        </div>
                        <div class="row" style="min-height:40px">
                            <div class="input-field col s12 offset-m1 offset-l1">
                                <label>
                                    <input id="cancellazioneConsentita" type="checkbox" class="filled-in" asp-for="CancellazioneConsentita" />
                                    <span>Cancellazione Prenotazione Consentita</span>
                                </label>
                                <span asp-validation-for="CancellazioneConsentita" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m5 offset-m1 l4 offset-l1">
                                <input id="dataCancellazione" type="text" asp-for="DataCancellazioneMax" class="datepicker" autocomplete="off" />
                                <label>Cancellabile fino al</label>
                                <span asp-validation-for="DataCancellazioneMax"></span>
                            </div>
                            <div class="input-field col s12 m3 l3 offset-l1">
                                <input id="oraCancellazione" type="text" asp-for='OraCancellazioneMax' class="timepicker" autocomplete="off" />
                                <label></label>
                                <span asp-validation-for="OraCancellazioneMax"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m8 offset-m1">
                                <input type="text" asp-for="Istruttore" />
                                <label asp-for="Istruttore"></label>
                                <span asp-validation-for="Istruttore"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m8 offset-m1">
                                <textarea asp-for="Note" class="materialize-textarea"></textarea>
                                <label asp-for="Note"></label>
                                <span asp-validation-for="Note"></span>
                            </div>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="collapsible-header">
                        <i class="material-icons">settings</i>
                        Impostazioni Avanzate
                    </div>
                    <div class="collapsible-body">
                        <div class="row" style="min-height:32px">
                            <div class="input-field col s12">
                                <label>
                                    <input id="waitListDisponibile" type="checkbox" class="filled-in" checked="checked" asp-for="WaitListDisponibile" />
                                    <span>Abilita lista d'attesa</span>
                                </label>
                                <span asp-validation-for="WaitListDisponibile"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m4 offset-m1 l3 offset-l1">
                                <input id="dataAperturaIscrizioni" type="text" asp-for="DataAperturaIscrizioni" class="datepicker" autocomplete="off" />
                                <label>Data Inizio iscrizione</label>
                                <span asp-validation-for="DataAperturaIscrizioni"></span>
                            </div>
                            <div class="input-field col s12 m3 offset-m1 l2 offset-l1">
                                <input id="oraAperturaIscrizioni" type="text" asp-for="OraAperturaIscrizioni" class="timepicker" autocomplete="off" />
                                <label>Ora inizio iscrizione</label>
                                <span asp-validation-for="OraAperturaIscrizioni"></span>
                            </div>
                            <div class="input-field col s12 m4 offset-m1 l3 offset-l1 ">
                                <input id="dataChiusuraIscrizioni" type="text" asp-for="DataChiusuraIscrizioni" class="datepicker" autocomplete="off" />
                                <label asp-for="DataChiusuraIscrizioni"></label>
                                <span asp-validation-for="DataChiusuraIscrizioni"></span>
                            </div>
                            <div class="input-field col s12 m3 offset-m1 l2 offset-l1">
                                <input id="oraChiusuraIscrizioni" type="text" asp-for="OraChiusuraIscrizioni" class="timepicker" autocomplete="off" />
                                <label asp-for="OraChiusuraIscrizioni"></label>
                                <span asp-validation-for="OraChiusuraIscrizioni"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12 m4 offset-m1 l3 offset-l1">
                                <input id="visibileDalDate" type="text" asp-for="VisibileDalDate" class="datepicker" autocomplete="off" />
                                <label>Data inizio visibilità </label>
                                <span asp-validation-for="VisibileDalDate"></span>
                            </div>
                            <div class="input-field col s12 m3 offset-m1 l2 offset-l1">
                                <input id="visibileDalTime" type="text" asp-for="VisibileDalTime" class="timepicker" autocomplete="off" />
                                <label>Ora inizio visibilità</label>
                                <span asp-validation-for="VisibileDalTime"></span>
                            </div>
                            <div class="input-field col s12 m4 offset-m1 l3 offset-l1 ">
                                <input id="visibileFinoAlDate" type="text" asp-for="VisibileFinoAlDate" class="datepicker" autocomplete="off" />
                                <label>Data fine visibilità</label>
                                <span asp-validation-for="VisibileFinoAlDate"></span>
                            </div>
                            <div class="input-field col s12 m3 offset-m1 l2 offset-l1">
                                <input id="visibileFinoAlTime" type="text" asp-for="VisibileFinoAlTime" class="timepicker" autocomplete="off" />
                                <label>Ora fine visibilità</label>
                                <span asp-validation-for="VisibileFinoAlTime"></span>
                            </div>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="collapsible-header" style="background-color:lightgray">
                        <i class="material-icons">repeat</i>Ricorrenza evento
                    </div>

                    <div class="collapsible-body">
                        <div class="row">
                            <div class=" input-field col s12">
                                <select id="tipoRicorrenza" asp-for="Recurrency.Recurrency">
                                    <option value="none">Non si ripete</option>
                                    <option value="daily">Si ripete tutti i giorni alla stessa ora</option>
                                    <option value="weekly">Si ripete tutte le settimane alla stessa ora </option>
                                    <option value="montly">Si ripete tutti i mesi alla stessa ora </option>
                                </select>
                                <label>Ricorrenza evento</label>
                                <span asp-validation-for="Recurrency.Recurrency"></span>
                            </div>
                        </div>
                        <div class="row" id="row">
                            <div class="input-field col s12">
                                <select id="weekDaysRecurrency" asp-for="Recurrency.DaysOfWeek" multiple>
                                    <option value="Lun">Lunedì</option>
                                    <option value="Mar">Martedì</option>
                                    <option value="Mer">Mercoledì</option>
                                    <option value="Gio">Giovedì</option>
                                    <option value="Ven">Venerdì</option>
                                    <option value="Sab">Sabato</option>
                                    <option value="Dom">Domenica</option>
                                </select>
                                <label>Giorni della settimana</label>
                            </div>
                        </div>
                        <div class="row">
                            @*<div class="input-field col s1">
                                    <label>
                                        <input name="grpFineRicorrenza" type="radio" />
                                        <span>&nbsp;</span>
                                    </label>
                                </div>*@
                            <div class="col s11 m4 l3">
                                <div class="input-field">
                                    <label>
                                        <input id="rbFineRicorrenzaDate" name="grpFineRicorrenza" type="radio" />
                                        <span>Si ripete fino al:</span>
                                    </label>
                                </div>
                                <br style="line-height: 24px" />
                                <div class="input-field">
                                    <span>&nbsp;</span>
                                    <input type="text" asp-for="VisibileDalDate" class="datepicker" autocomplete="off" />
                                    @*<label>Si ripete fino al</label>*@
                                    <span id="dataFineRecurrency" asp-validation-for="Recurrency.RepeatUntil"></span>
                                </div>
                            </div>
                            <div class="input-field col s1">
                                <label>
                                    <input id="rbFineRicorrenzaNum" name="grpFineRicorrenza" type="radio" />
                                    <span>&nbsp;</span>
                                </label>
                            </div>
                            <div class="input-field col s11 m4 offset-m1 l3 offset-l1">
                                <input id="numRipetizioni" type="number" asp-for="Recurrency.RepeatFor" />
                                <label>Numero ripetizioni</label>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>

            <div class="row">
                <div class="input-field col s10 offset-s1 center">
                    <button class="btn waves-effect waves-light" type="submit" name="action">
                        Salva
                        <i class="material-icons save">save</i>
                    </button>
                </div>
            </div>
        </div>
    </div>

</form>

@section Scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js" integrity="sha256-CutOzxCRucUsn6C6TcEYsauvvYilEniTXldPa6/wu0k=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/locale/it.js" integrity="sha256-D8y560ZGsKY1LoAajKkQCG7y0Vkye361MH4yFv2K5kk=" crossorigin="anonymous"></script>


    <script>
        $(document).ready(function () {
            //EntryPoint è il nome definito in WebPack
            EntryPoint.r2dEditEvento.init();
        });
    </script>

}
@model AbbonamentoUtenteViewModel

<div id="editAbbonamentoContainer">
    <div class="row">
        <div class="col s10 offset-s1"></div>
        <h2>Nuovo abbonamento @Model.NomeTipoAbbonamento</h2>
    </div>
    <form asp-action="AddAbbonamentoToUser" asp-controller="UtentiCliente" method="post">
        <input asp-for="Id" type="hidden" />
        <input asp-for="IdTipoAbbonamento" type="hidden" />
        <input asp-for="IdCliente" type="hidden" />
        <input asp-for="UserId" type="hidden" />
        <div class="row">
            <div class="input-field col s5 offset-s1">
                <input id="inputDataInizioValidita" type="text" asp-for="DataInizioValidita" />
                <label asp-for="DataInizioValidita"></label>
                <span asp-validation-for="DataInizioValidita" />
            </div>
            <div class="input-field col s5">
                <input id="inputScadenza" type="text" asp-for="Scadenza" />
                <label asp-for="Scadenza"></label>
                <span asp-validation-for="Scadenza" />
            </div>
        </div>
        <div class="row">
            <div class="input-field col s5 offset-s1">
                <input type="number" asp-for="IngressiIniziali" />
                <label asp-for="IngressiIniziali"></label>
                <span asp-validation-for="IngressiIniziali" />
            </div>
        </div>
        <div class="row">
            <div class="input-field col s5 offset-s1">
                <input id="inputImporto" type="text" asp-for="Importo" />
                <label asp-for="Importo"></label>
                <span asp-validation-for="Importo" />
            </div>
            <div class="input-field col s5">
                <input id="inputImportoPagato" type="text" asp-for="ImportoPagato" />
                <label asp-for="ImportoPagato"></label>
                <span asp-validation-for="ImportoPagato" />
            </div>
        </div>
        <div class="row">
            <div class="input-field col s10">
                <button class="btn waves-effect waves-light" type="submit" name="action">
                    Salva
                    <i class="material-icons save">save</i>
                </button>
            </div>
        </div>

    </form>
</div>
<script>
    $(document).ready(function () {
        $('#AddAbbonamentoToUser').submit(function () {
            var container = $('#@ViewBag.ContainerId');

            alert("TODO: Invocare API AJAX per il salvataggio ed aggiornare il container con il ViewComponent di Visualizzazione.");
        });
    });
</script>